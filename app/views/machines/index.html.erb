<section id="dashboard">
    <div class="modal fade" id="addNewMachineModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">New Vengo Machine</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                      <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <%= render "machines/form" %>
                </div>
            </div>
        </div>
    </div>
    <div class="modal fade" id="bulkInstallation" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">Bulk install a random number of machines</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                      <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <form action="/generate_random">
                        <input type="text" class="form-control" name="count"
                            placeholder="how many machines would you like to install?">
                        <button type="submit" class="btn btn-success" style="margin-top: 15px;">
                            install
                        </button>
                    </form>
                </div>
            </div>
        </div>
    </div>
    <h6>
        Machines in use: <span style="color: blue;"><%= @machines.count %></span>
        <span style="margin-left: 10px;">
            [<a href="#" data-toggle="modal" data-target="#addNewMachineModal"
                class="btn btn-link" style="padding: 0;">
                install a new machine</a>]
        </span>
        <span style="margin-left: 10px;">
            [<a data-toggle="modal" data-target="#bulkInstallation" href="#"
                class="btn btn-link" style="padding: 0;">
                bulk installation</a>]
        </span>
        <span style="margin-left: 10px;">
            [<a href="/" class="btn btn-link" style="padding: 0;">
                reload dashboard</a>]
        </span>
    </h6>
    
    <hr>
    
    <div class="row">
        <% if @machines.present? %>
            <%= render partial: "machines", locals: { machines: @machines } %>
        <% else %>
            <div class="col-md-12">
                <p>No machine to track</p>
            </div>
        <% end %>
    </div>
</section>
